# Ansible Playbook для базовой настройки и установки PostgreSQL 16 на Debian 11

```markdown

Этот Ansible Playbook предназначен для автоматизации базовой конфигурации системы Debian 11 и установки PostgreSQL 16, а также настройки необходимых утилит и служб для обеспечения безопасности.

## Содержание

- [Требования](#требования)
- [Установка](#установка)
- [Запуск](#запуск)
- [Описание задач](#описание-задач)

## Требования

- Ansible 2.17 или новее
- Debian 11 (Bullseye)
- Доступ к целевым серверам через SSH с правами sudo

## Установка

1. Клонируйте репозиторий с Playbook на вашу локальную машину или сервер:
```bash
git clone https://github.com/CyberSolo99/testTaskDevOps.git
cd testTaskDevOps
    ```

2. Убедитесь, что Ansible установлен:

```bash
ansible --version
    ```

3. Измените данные для подключения к Debian 11 в файле **inventory.yml**.

## Запуск

Для запуска Playbook выполните следующую команду:

```bash
ansible-playbook playbook.yml
```

## Описание задач

Playbook выполняет следующие задачи:

1. Устанавливает необходимые пакеты.
2. Запускает и включает службу `rsyslog`.
3. Очищает существующие правила `iptables` и настраивает правила для разрешения HTTP, HTTPS и пользовательского порта.
4. Устанавливает и настраивает `PostgreSQL 16` с добавлением соответствующего репозитория.
5. Настраивает `Fail2Ban` для защиты от DDoS-атак.
6. Собирает информацию о состоянии системы и сохраняет её в `/var/log/system_info.txt`.
7. Создает задание `cron` для ежедневного обновления пакетов.
8. Устанавливает зависимости для `Docker` и настраивает его.
